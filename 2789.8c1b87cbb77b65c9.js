"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[2789],{2789:(I,d,u)=>{u.r(d),u.d(d,{SignupPageModule:()=>w});var f=u(2881),t=u(4341),r=u(691),g=u(5207),F=u(467),n=u(1360),h=u(2928),S=u(8156),v=u(4665);function b(i,e){1&i&&(n.j41(0,"ion-text",14)(1,"p",15),n.EFF(2,"Name is required"),n.k0s()())}function E(i,e){1&i&&(n.j41(0,"p",15),n.EFF(1,"Email is required"),n.k0s())}function P(i,e){1&i&&(n.j41(0,"p",15),n.EFF(1,"Enter a valid email"),n.k0s())}function k(i,e){if(1&i&&(n.j41(0,"ion-text",14),n.DNE(1,E,2,0,"p",16)(2,P,2,0,"p",16),n.k0s()),2&i){const s=n.XpG();n.R7$(),n.Y8G("ngIf",s.signupForm.controls.email.hasError("required")),n.R7$(),n.Y8G("ngIf",s.signupForm.controls.email.hasError("email"))}}function x(i,e){1&i&&(n.j41(0,"p",15),n.EFF(1,"Password is required"),n.k0s())}function T(i,e){1&i&&(n.j41(0,"p",15),n.EFF(1,"Min 6 characters "),n.k0s())}function j(i,e){if(1&i&&(n.j41(0,"ion-text",14),n.DNE(1,x,2,0,"p",16)(2,T,2,0,"p",16),n.k0s()),2&i){const s=n.XpG();n.R7$(),n.Y8G("ngIf",s.signupForm.controls.password.hasError("required")),n.R7$(),n.Y8G("ngIf",s.signupForm.controls.password.hasError("minlength"))}}function G(i,e){1&i&&(n.j41(0,"ion-text",14)(1,"p",15),n.EFF(2,"Passwords do not match"),n.k0s()())}const y=[{path:"",component:(()=>{var i;class e{constructor(o,a,l,c){this.fb=o,this.api=a,this.globalServices=l,this.router=c,this.passwordMismatch=!1,this.bDisableButton=!1,this.signupForm=this.fb.group({name:["",t.k0.required],email:["",[t.k0.required,t.k0.email]],password:["",[t.k0.required,t.k0.minLength(6)]],confirmPassword:["",t.k0.required]})}isTouched(o){return this.signupForm.controls[o].touched||this.signupForm.controls[o].dirty}onSubmit(){var o=this;return(0,F.A)(function*(){const{password:a,confirmPassword:l}=o.signupForm.value;if(o.passwordMismatch=a!==l,o.bDisableButton=!0,o.signupForm.invalid||o.passwordMismatch)return o.bDisableButton=!1,void o.markFormTouched();console.log("Sign up successful:",o.signupForm.value);const{data:c,error:p}=yield o.api.signupWithEmail(o.signupForm.value);var m;if(p)return yield o.globalServices.presentToast(null!==(m=null==p?void 0:p.message)&&void 0!==m?m:"Error on server","danger","alert-circle-outline"),void(o.bDisableButton=!1);c&&(yield o.globalServices.presentToast("Success sign up","success","checkmark-circle-outline"),o.bDisableButton=!1,o.router.navigate(["verify-email"]))})()}markFormTouched(){Object.values(this.signupForm.controls).forEach(o=>{o.markAsTouched()})}}return(i=e).\u0275fac=function(o){return new(o||i)(n.rXU(t.ok),n.rXU(h.m),n.rXU(S.A),n.rXU(v.Ix))},i.\u0275cmp=n.VBU({type:i,selectors:[["app-signup"]],standalone:!1,decls:35,vars:7,consts:[[1,"ion-padding","signup-background"],[1,"signup-container"],[1,"signup-card"],[1,"ion-text-center"],[3,"ngSubmit","formGroup"],["position","floating"],["type","text","formControlName","name","required",""],["color","danger",4,"ngIf"],["type","email","formControlName","email","required",""],["type","password","formControlName","password","required",""],["type","password","formControlName","confirmPassword","required",""],["expand","block","type","submit",1,"ion-margin-top",3,"disabled"],[1,"ion-text-center","ion-margin-top"],["routerLink","/login"],["color","danger"],[1,"ion-padding-start"],["class","ion-padding-start",4,"ngIf"]],template:function(o,a){1&o&&(n.j41(0,"ion-content",0)(1,"div",1)(2,"ion-card",2)(3,"ion-card-header")(4,"ion-card-title",3),n.EFF(5,"Sign Up"),n.k0s()(),n.j41(6,"ion-card-content")(7,"form",4),n.bIt("ngSubmit",function(){return a.onSubmit()}),n.j41(8,"ion-item")(9,"ion-label",5),n.EFF(10,"Full Name"),n.k0s(),n.nrm(11,"ion-input",6),n.k0s(),n.DNE(12,b,3,0,"ion-text",7),n.j41(13,"ion-item")(14,"ion-label",5),n.EFF(15,"Email"),n.k0s(),n.nrm(16,"ion-input",8),n.k0s(),n.DNE(17,k,3,2,"ion-text",7),n.j41(18,"ion-item")(19,"ion-label",5),n.EFF(20,"Password"),n.k0s(),n.nrm(21,"ion-input",9),n.k0s(),n.DNE(22,j,3,2,"ion-text",7),n.j41(23,"ion-item")(24,"ion-label",5),n.EFF(25,"Confirm Password"),n.k0s(),n.nrm(26,"ion-input",10),n.k0s(),n.DNE(27,G,3,0,"ion-text",7),n.j41(28,"ion-button",11),n.EFF(29),n.k0s()(),n.j41(30,"div",12)(31,"small"),n.EFF(32," Already have an account? "),n.j41(33,"a",13),n.EFF(34,"Log in"),n.k0s()()()()()()()),2&o&&(n.R7$(7),n.Y8G("formGroup",a.signupForm),n.R7$(5),n.Y8G("ngIf",a.isTouched("name")&&a.signupForm.controls.name.hasError("required")),n.R7$(5),n.Y8G("ngIf",a.isTouched("email")),n.R7$(5),n.Y8G("ngIf",a.isTouched("password")),n.R7$(5),n.Y8G("ngIf",a.passwordMismatch),n.R7$(),n.Y8G("disabled",a.bDisableButton),n.R7$(),n.SpI(" ",a.bDisableButton?"Creating account...":"Create Account"," "))},dependencies:[f.bT,t.qT,t.BC,t.cb,t.YS,r.Jm,r.b_,r.I9,r.ME,r.tN,r.W9,r.$w,r.uz,r.he,r.IO,r.Gw,r.oY,g.Wk,t.j4,t.JD],encapsulation:2}),e})()}];let D=(()=>{var i;class e{}return(i=e).\u0275fac=function(o){return new(o||i)},i.\u0275mod=n.$C({type:i}),i.\u0275inj=n.G2t({imports:[g.iI.forChild(y),g.iI]}),e})(),w=(()=>{var i;class e{}return(i=e).\u0275fac=function(o){return new(o||i)},i.\u0275mod=n.$C({type:i}),i.\u0275inj=n.G2t({imports:[f.MD,t.YN,r.bv,D,t.X1]}),e})()}}]);